%% This is file `elsarticle-template-1-num.tex',
%%
%% Copyright 2009 Elsevier Ltd
%%
%% This file is part of the 'Elsarticle Bundle'.
%% ---------------------------------------------
%%
%% It may be distributed under the conditions of the LaTeX Project Public
%% License, either version 1.2 of this license or (at your option) any
%% later version.  The latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.2 or later is part of all distributions of LaTeX
%% version 1999/12/01 or later.
%%
%% The list of all files belonging to the 'Elsarticle Bundle' is
%% given in the file `manifest.txt'.
%%
%% Template article for Elsevier's document class `elsarticle'
%% with numbered style bibliographic references
%%
%% $Id: elsarticle-template-1-num.tex 149 2009-10-08 05:01:15Z rishi $
%% $URL: http://lenova.river-valley.com/svn/elsbst/trunk/elsarticle-template-1-num.tex $
%%
\documentclass[preprint,12pt]{elsarticle}

%% Use the option review to obtain double line spacing
%% \documentclass[preprint,review,12pt]{elsarticle}

%% Use the options 1p,twocolumn; 3p; 3p,twocolumn; 5p; or 5p,twocolumn
%% for a journal layout:
%% \documentclass[final,1p,times]{elsarticle}
%% \documentclass[final,1p,times,twocolumn]{elsarticle}
%% \documentclass[final,3p,times]{elsarticle}
%% \documentclass[final,3p,times,twocolumn]{elsarticle}
%% \documentclass[final,5p,times]{elsarticle}
%% \documentclass[final,5p,times,twocolumn]{elsarticle}

%% if you use PostScript figures in your article
%% use the graphics package for simple commands
%% \usepackage{graphics}
%% or use the graphicx package for more complicated commands
%% \usepackage{graphicx}
%% or use the epsfig package if you prefer to use the old commands
%% \usepackage{epsfig}

%% The amssymb package provides various useful mathematical symbols
\usepackage{amssymb}
%% The amsthm package provides extended theorem environments
%% \usepackage{amsthm}
\usepackage{hyperref} %\url can be used, links are highlited

%\usepackage[latin1]{inputenc} % Zeichencodierung
%\usepackage[T1]{fontenc} % Zeichencodierung

\usepackage[printonlyused]{acronym}

\usepackage{color}
\usepackage{xcolor}

\usepackage{listings} \lstset{numbers=left, numberstyle=\tiny,
  basicstyle=\footnotesize, stepnumber=2, numbersep=5pt,
  showspaces=false, showstringspaces=false, frame=single,
  breaklines=true,
  backgroundcolor=\color{white},morekeywords={id,gender, name,
    first_name, username, gender, locale},
  numbersep=5pt} \lstset{language=Perl} 




\newcounter{countNotes}
\newcommand{\annKB}[1]{\color{blue}*\textsuperscript{\thecountNotes}\marginpar{\color{blue} \tiny *\textsuperscript{\thecountNotes}\textbf{Note (KB): \\}
    #1  }\addtocounter{countNotes}{1}\color{black}}
%\renewcommand{\annKB}[1]{} %disable annotation 

% \renewcommand{sbw}{} %disable comments


%% The lineno packages adds line numbers. Start line numbering with
%% \begin{linenumbers}, end it with \end{linenumbers}. Or switch it on
%% for the whole article with \linenumbers after \end{frontmatter}.
%% \usepackage{lineno}

%% natbib.sty is loaded by default. However, natbib options can be
%% provided with \biboptions{...} command. Following options are
%% valid:

%%   round  -  round parentheses are used (default)
%%   square -  square brackets are used   [option]
%%   curly  -  curly braces are used      {option}
%%   angle  -  angle brackets are used    <option>
%%   semicolon  -  multiple citations separated by semi-colon
%%   colon  - same as semicolon, an earlier confusion
%%   comma  -  separated by comma
%%   numbers-  selects numerical citations
%%   super  -  numerical citations as superscripts
%%   sort   -  sorts multiple citations according to order in ref. list
%%   sort&compress   -  like sort, but also compresses numerical citations
%%   compress - compresses without sorting
%%
%% \biboptions{comma,round}

% \biboptions{}


\journal{has to be discussed}

\begin{document}

\begin{frontmatter}

%% Title, authors and addresses

%% use the tnoteref command within \title for footnotes;
%% use the tnotetext command for the associated footnote;
%% use the fnref command within \author or \address for footnotes;
%% use the fntext command for the associated footnote;
%% use the corref command within \author for corresponding author footnotes;
%% use the cortext command for the associated footnote;
%% use the ead command for the email address,
%% and the form \ead[url] for the home page:
%%
%% \title{Title\tnoteref{label1}}
%% \tnotetext[label1]{}
%% \author{Name\corref{cor1}\fnref{label2}}
%% \ead{email address}
%% \ead[url]{home page}
%% \fntext[label2]{}
%% \cortext[cor1]{}
%% \address{Address\fnref{label3}}
%% \fntext[label3]{}

\title{Spreading of a Facebook Application}

%% use optional labels to link authors explicitly to addresses:
%% \author[label1,label2]{<author name>}
%% \address[label1]{<address>}
%% \address[label2]{<address>}


\author[focal]{Kathrin Becker\corref{cor1}\fnref{fn1}} 
\ead{mail@kathrin-becker.eu}
\author[focal]{Mayutan Arumaithurai\fnref{fn1}} %
\ead{mayutan.arumaithurai@gmail.com}
\author[focal]{Xiaoming Fu\corref{cor2}\fnref{fn1}} %
\ead{fu@cs.uni-goettingen.de}

\address[focal]{Institute of Computer Science, Computer Networks (NET)
  Research Group, University of G\"ottingen}





\cortext[cor1]{Corresponding author}
\cortext[cor2]{Principal corresponding author}
\fntext[fn1]{This document is a collaborative effort.}
%\fntext[fn2]{Another author footnote, but a little more longer.}
%\fntext[fn3]{Yet another author footnote. Indeed, you can have
%xany number of author footnotes.}
\tnotetext[tn1]{This is a specimen title.}



\begin{abstract}
%% Text of abstract, 150 - 350 words
% The outcome was students' perceptions of preparedness.
Applications on Facebook are popular and attract many
people. Nevertheless, before installation people must acknowledge that an application
exists, and they must demand the application, too.
There may exist several reasons for people to install
applications, such as intensive usage within their social network, or
personal interest in a special topic. Persuasion can
happen virally through Facebook's news stream, by marketing through
friends, or by directed search on 
Facebook. Differences in the spreading process are supposed to exist
for the different kinds of applications. 

This paper investigates, how a quiz asking people five randomly
selected questions about dentistry health facts spreads on
Facebook. The quiz is made social by providing participants with
information such as if they were better than their
friends and other users, and which of their friends could answer the given questions.

Analysis is supported by a tool maintaining an internal representation
of an extract of Facebook's social graph containing the participants
as nodes, their friendships as edges, and their basic information
retrieved from Facebook as well as quiz results as node
attributes. The tool allows for output of aspects of the internal graph
in DOT-language, and export of metrics to CSV, too. 

Results show that participants, who connect the network of existing
users to a new one, often achieved a relatively high score in the quiz. New
participants often had strong connections to the network of people who
already participated. Indeed, the number of friends did not seem to make
users more or less likely to gather new participants for the quiz.
\end{abstract}

\begin{keyword}
%% keywords here, in the form: keyword \sep keyword

%% MSC codes here, in the form: \MSC code \sep code
%% or \MSC[2008] code \sep code (2000 is the default)
Facebook, Spreading of Applications, Social Network, data mining, social graph
\end{keyword}

\end{frontmatter}

%%

%% The Appendices part is started with the command \appendix;
%% appendix sections are then done as normal sections
%% \appendix
%% main text
%% Start line numbering here if you want
%%
%o \linenumbers

\section{Introduction}
\label{sec:introduction}
Founded in 2004, Facebook\footnote{www.facebook.com} has
become a social network currently used by more than 600 million people
all over the world\cite{facebook500}. Since 2007, Facebook provides an API permitting
third party developers to embed their own applications in
Facebook\footnote{http://developers.facebook.com/blog/archive}.
Subsequent to the F8 conference in April, 2010, Facebook simplified
access to its social graph by allowing
external websites for integration in their social graph through Open
Graph Protocol\cite{facebookStats} . 

Due to integration in Facebook's social graph, third party
applications not only spare user authentication procedures, but can also access
extracts of Facebook's social graph, too. These information provided
by Facebook detail a user's friend list, basic information, and
further data to which access has to be granted by access tokens
\footnote{http://developers.facebook.com/docs/authentication/}. Thus,
applications let Facebook's social graph enlarge and make people
spend more time of Facebook. In addition, application developers
can spread their application virally through appearance in news
streams, and collect useful information about the social network of
their users, too.

Statistics show development of Facebook applications being very
attractive nowadays. Until October, 2009, 
over 350 000 apps had been seen on Facebook \cite{facebookBlog}.
According to current statistics, about 20 million applications are
installed per day, and ten thousand new websites integrate with
Facebook every day, too. \cite{facebookStats} 

This paper investigates the process of spreading of applications on
Facebook by focusing on the show case of a quiz asking users five randomly
selected questions about dentistry health facts. User data are
collected in a MySQL database, and evaluation of the data is
accomplished by the outputs of a tool maintaining an internal representation of the extract of Facebook's
social graph the application is allowed to access.

The tool allows for output of graphs in \ac{dot} language and output of
metrics as \ac{csv}. The graphs the tool can output detail how the application
spreads, and allows for labelling of people (nodes) which connect the
network of existing user to new networks. The metrics detail with how
many people users who participated are friends, which score they had,
and to how many new people they could have spread the application.

In the first section, basic information about Facebook's social graph,
and integration of applications is
given. In the next section, the methodology is described by detailing
the quiz and its building, as well as the tool for data evaluation. Section
\ref{sec:results} presents the results, and in section
\ref{sec:discussion} and \ref{sec:outlook}, a discussed follows. Section
\ref{sec:conclusion} concludes the paper by summing up the results,
and giving an outlook for further research, too.


\section{Foundations}
\label{sec:background}
This section details concepts from Facebook, basics about the
\ac{DOT} language, and at least, it defines the metrics the tool
explained in section \ref{sec:methodology} can output. Facebook's
social graph concept is explained in 
section \ref{sec:social-graph}, section \ref{sec:integr-appl-with}
describes how applications can be integrated with Facebook, and
section \ref{sec:auth-auth} makes clear how applications can be
integrated with Facebook.

\subsection{Social Graph}
\label{sec:social-graph}
Facebook's \textit{social graph} can be regarded as its core. It
represents connections between people and things people care about 
\cite{facebookDev}. Since April, 2010, Facebook allows for access to its
social graph via the Open Graph Protocol\footnote{http://ogp.me/}, thus facilitating
external websites and third party applications to integrate in the social graph by becoming
additional nodes\cite{facebookDev2}. These additional nodes can for
instance represent entities such as movies, news articles,
applications, and much more. People on Facebook can add connections
from their user node to these additional nodes by clicking on plugins
provided by Facebook such as \textit{Like Buttons} or entering content in \textit{Comment
  Boxes}.  \cite{facebookDev2} As images of friends who liked an
entity, and comments of friends can be shown on external websites via
iframes, aspects from a user's social network are brought to these
websites, and for this reason, Facebook is said to make the Internet social.

In general, additional nodes representing external websites are integrated
unidirectional. Thus, Facebook retrieves the information in which
entities users were interested in, while the external websites do not
gain access to Facebook's social graph. Instead, the social
information is included through iframes.
In order to integrate nodes bi-directional, the user must permit the
access, and both, the user, and the entity, which wants to gain access
to the social graph, must be authenticated. This process is detailed in
section \ref{sec:auth-auth}. This happens in case of applications on
Facebook, thus they are included bi-directional and can grab
information from Facebook's social graph.

The Graph API is one of Facebook's core concepts and presents a consistent
view of the social graph. Every object has an unique ID and if it is
public, its properties can be accessed by requesting the appropriate URL:
\url{https://graph.facebook.com/ID}. Listing \ref{list:kbecker} shows
the author's public user node on Facebook's social graph. which is
returned as a \ac{json}-object\footnote{http://www.json.org}.

\begin{lstlisting}[caption=JSON object from
  \url{https://graph.facebook.com/681178092},
  label=list:kbecker]{}
{
   "id": "681178092",
   "name": "Kathrin Becker",
   "first_name": "Kathrin",
   "last_name": "Becker",
   "username": "kathrin.becker1",
   "gender": "female",
   "locale": "de_DE"
}
\end{lstlisting}

In order to get access not only to public, but also to private
information, an access token has to be included in the Graph API
request. To get this token, the accessing entity must be
authorized and authenticated to do so. How this can be achieved is
explained in section \ref{sec:auth-auth}. When trying to access
non-public information without the needed access token, an error
is returned. Listing \ref{list:kbeckerfriends} gives an example for this.


\begin{lstlisting}[caption=JSON object from
  \url{https://graph.facebook.com/681178092/friends},
  label=list:kbeckerfriends]{}
{
   "error": {
      "type": "OAuthException",
      "message": "An access token is required to request this resource."
   }
}
\end{lstlisting}


Besides the Graph API, Facebook's social graph can also be accessed
with the REST-API, which is in the processes of deprecating
\cite{facebookDev3}. Both, the Graph API and the REST-API support
O-Auth 2.0 for authentication and authorization. O-Auth 2.0 is
included in Facebook's \ac{sdks} (see section
\ref{sec:integr-appl-with} and \ref{sec:auth-auth}).




\subsection{Integration of Applications with Facebook}
\label{sec:integr-appl-with}
Applications on Facebook are hosted on external severs, and are loaded
into a \textit{Canvas Page} by using iFrames. After registration
(\url{http://www.facebook.com/developers/createapp.php}), applications
can be found under the URL \url{http://apps.facebook.com/your_app }.
As soon as the application exists for some month and has
some users registered, it can be added to Facebook's application
index. 

Facebook provides several features to support the development
process. \ac{sdks} exist for popular programming languages and provide
sets of pre-defined functions for communication with Facebook. For
instance, they include the O-Auth 2.0 dialog which is described in
section \ref{sec:auth-auth}. In
addition, Facebook grants observation of its own development process by
making its raodmap public, and by showcasting its buglist. In addition, a
testserver exists to help developers to analyze if their application
is going to run with planned features from Facebook. 
Facebook provides an \textit{insights}-feature which makes
statistics about the applications available. \cite{oreilly}.



\subsection{Authentication and Authorization}
\label{sec:auth-auth}
In order to authorize and authenticate, Facebook recommends usage of
O-Auth 2.0 protocol by using the OAuth Dialog included in its
\ac{sdks}. As the application analyzed in this paper and described in section 
\ref{sec:method} implements the O-Auth Dialog from the PHP-\ac{sdk},
this variant will be described in detail. It shall just be mentioned,
that Facebook also allows for manual execution of the steps to receive
access tokens.\cite{facebookDevAuth}  

The OAuth Dialog performs three steps, i.e. user authentication, 
and authorization as well as authentication of the
application. If these three steps are completed, the application is
issued an \textit{user access token}. If more than basic information
is needed from Facebook, scope parameters can be set.\cite{facebookDevAuth}

Figure \ref{fig:authorization} details how authorization and
authentication take place with OAuthDialog. The \textit{app server}
illustrates the server on which the app is actually
running. \textit{Facebook} represents all the Facebook servers, on
which perform authentication and authorization. The \textit{OAuth
  Dialog} runs on the browser of the client who is going to use the
application.


\begin{figure}
\label{fig:authorization}
  \includegraphics[width=4in]{../img/fbinteraction3.png}
  \caption{Facebook establishes trust relation by not sending login
    data to app server, but using access tokens instead for
    data exchange with app server.}
\end{figure}

When clients access the canvas page of the application, they are
redirected to the OAuth Dialog (running on a Facebook server) and
provided with the application's ID. Then, user authentication and
app authorization is performed, by involving the client and Facebook
only. User authentication is done by logging in on Facebook (if necessary) and
authorization of the application is done by asking the user if he/she
wants to grant the application access to some data specified by the
application with the scope parameter. One should note, that no
login data are sent to the application, thus, this is how Facebook
establishes a trust relation. 
If the user authorizes the application, an \textit{authorization code} is returned and
the user is redirected to the application, to which the
\textit{authorization code} is forwarded. During registration of the
application, an \textit{application secret} code was
created. In order to authenticate the application, the
\textit{authorization code} and the \textit{application secret} have
to be sent to Facebook's \textit{Graph API Token Endpoint}. Facebook
then returns an \textit{access token}, which can be included in the
URL by which the Graph API can be accessed. However, Facebook's
\ac{sdks} also provide functions to perform calls to the Graph API,
and in this case, the access token is included automatically.

\subsection{Graphs with DOT language}
\label{sec:graph-repr-with}
The \ac{dot} language allows for plain text description of
graphs. There are few programs that can process \ac{dot} graphs, most
of them are part of the
\textit{Graphviz}\footnote{http://www.graphviz.org}-package. 
The language allows for directed and undirected graphs, attributes can
be set and colors as well as different shapes for nodes and edges can
be used. The basic syntax is very easy, the graph shown in figure
\ref{fig:dot} has the \ac{dot}-code given in listing \ref{list:dot}.

\begin{lstlisting}[caption=A very simple DOT-Graph,
  label=list:dot]{}{
 digraph myGraph {
     a -> b;
}
\end{lstlisting}

\begin{figure}
  \includegraphics[width=0.4in]{../img/ab.png}
\caption{A very simple graph in \ac{dot}-language.}
\label{fig:dot}
\end{figure}

Labels and colors can be added by defining the node in the head of the
graph description. An example is detailed in listing \ref{list:dot2}, and
the corresponding graph is given in figure \ref{fig:dot2}.


\begin{figure}
  \includegraphics[width=0.4in]{../img/graphDot.png}
\caption{A very simple graph with node a blue boxed and fontcolor set
  to red.}
\label{fig:dot2}
\end{figure}


\begin{lstlisting}[caption=A very simple DOT-Graph,
  label=list:dot2]{}{
 digraph myGraph {
a [label="Foo", color="blue", shape=box, fontcolor="red"];
     a -> b;
}
\end{lstlisting}

\subsection{Software Metrics}
\label{sec:metrics}
Metrics define a mapping of a `particular measurable entity to a
numerical value' \cite{Lanz06a}. Thus, they allow for analysis and summarization
of properties which are oftentimes not measurable. In addition, they
facilitate detection of `outliers in large amounts of data'
\cite{Lanz06a}. Metrics can be plotted as diagrams or charts, or they
can be used for visualizations such as graphs connecting nodes
characterized by metrics. Since humans are trained in understanding signs and
pictures, visualizations supports understanding and identifying of
`hidden aspects'. \cite{Lanz06a} In this paper, they are
employed to characterize users of the quiz. Some metrics can be output
as \ac{pdf}, and others are used to create the graphs in \ac{dot} language.

The following metrics can be calculated:

\begin{itemize}
\item A user's number of friends.
\item A user's score.
\item The number of friends who also participated in the quiz.
\item The number of friends who used the application, and belong to a
new network, thus the only connector between the new users' nodes and
the other nodes of the graph is the node of the user analyzed.
\end{itemize}


\section{Methodology}
\label{sec:method}
This section describes the methodology. At first, the quiz which is
used to collect data from Facebook's social graph is described as well
as its implementation (section \ref{sec:quiz}).
Then, it is explained how data are collected for
further analysis and how they can be evaluated.

\subsection{The Analyzed Application}
\label{sec:quiz}
The application analyzed in this paper is a quiz. It is described in
\ref{sec:aboutQuiz}, and in \ref{sec:implmentation} its implementation
is detailed.

\subsubsection{About The Quiz}
\label{sec:aboutQuiz}
The quiz is about dental health fact and also challenging. It can be
found at the URL \url{http://apps.facebook.com/zahniquiz}.
Each participants is asked five questions randomly selected
from a set of twenty questions. A question has four answers, of
which either one, two, three or each answer can be correct, thus
the kind of answers refers to the term \textit{multiple selection}.
A question is scored to be answered correctly, if the correct subset
was selected by the user, thus each correct and no incorrect answer
were selected. Each question answered correctly scores one, thus the
highest score is five. Figure \ref{fig:quiz} gives a screenshot of the quiz. 

The quiz is competitive. After the quiz is completed, users are told
their score, and in addition, they acknowledge how good they were in
comparison to other participants as well as to their 
friends. As shown in figure \ref{fig:solution}, for each question the
correct solution is given. A user can also invite friends to
participate. For this issue, profile pictures of a user's friends are
printed beyond the quiz. By clicking on such an image, an invitation
can be sent to the friend's Facebook profile. 


\subsubsection{Implementation}
\label{sec:implementation}
The studied application makes use of 
Facebook's php-\ac{sdk} and JavaScript-\ac{sdk}\footnote{http://developers.facebook.com/docs/}. It requires
permissions (see \ref{sec:auth-auth}) for \textit{user$\_$birthday} and
\textit{publish$\_$stream}.
The questions and answers of the quiz are stored in a MySQL-database. PHP scripts
handle the creation of the quiz and
the Pear DB module \footnote{http://pear.php.net/} is used
for database queries.

The structure of the Facebook application is related to a
Model-view-controller architecture. \textit{Pear::DB} represents the
model, files stored in folder \textit{templates} act as view
(\textit{quizQuestion.php}, \textit{quiz.php},
\textit{quizResult.php}), and \textit{index.php} assumes the role of
the controller. \textit{library.php} contains a collection of
functions used by the various PHP scripts. \textit{facebook.php} and
scripts from \textit{facebook-sdk} folder are downloaded from
\url{https://github.com/facebook/php-sdk/} provide the functionality
of Facebook's PHP \ac{sdk}.

The view operates as follows: \textit{quiz.php} checks if the user
completed the quiz. If not, it prints the form, loads the styles and
includes \textit{quizQuestion.php} to print the questions. Otherwise, it
creates the page shown after the quiz is completed by printing a
statement commenting the user's score, and by providing users with 
the following options: Users can print their result into their news
stream and they can send invitations to their friends' Facebook
profiles. For both options, Facebook's JavaScript \ac{sdk} is
used. \textit{quizResult.php} contains the code to  
print the correct solution after the quiz is completed and is included
by \textit{quizQuestion.php}. 


\paragraph{Database schema}
\label{sec:database-schema}
The database queries are performed with PHP
pear\footnote{http://pear.php.net/}-package. The following tables exist:
\begin{itemize}
\item \textbf{User} - entries are created for each user who participates as
well as for each of a user's friends. A flag details if user
participated or not.
\item \textbf{Friends} - creates entries for each friendship found in
users' friend lists.
\item \textbf{Questions} - contains the questions of the quiz.
\item \textbf{Answers} - contains the possible answers and a flag to mark them
as correct or false.
\item \textbf{GivenAnswers} - stores each answer given by a user.
\item \textbf{UserScore} - stores the score user had in the quiz.
\item \textbf{CorrectAnsweredQuestions} - stores which questions were correct
answered by which user, and which were not.
\end{itemize}

\paragraph{Application flow}
\label{sec:application-flow}
When a user accesses the canvas page of the quiz, 
the \textit{OAuth Dialog} is started automatically by the
\textit{controller}. If authorization and authentication are completed
successfully, the user's basic data as well as the birthday are stored together with
a timestamp in the \textit{User} table. Column \textit{has-used-app} is set to 1. In
addition, each user's friends list is also stored in \textup{User} and
\textit{Friends} table, and for these \textit{users}, columns
\textit{has-used-app} is set to 0. 

% the quiz is created by randomly choosing
% five questions from the questions table and requiring the answers. To
% make the questions more attractive, the name of an image convenient to
% the questions topic is also stored in the questions table, and this
% image is placed on the left side of each question. Since multiple
% selection is possible, before the answers, which are also queried from
% the MySQL database, checkboxes are placed before each answer. 
Next, the quiz is created as mentioned in section
\ref{sec:implmenetation}.
After completion, its is evaluated the final score is computed. As
each answer ought to be stored and multiple selection of answers is
possible, user answers have to be stored in  a multidimensional. 

The given answers are then stored in table \textit{GivenAnswers}. In
table (\textit{correctAnsweredQuestions)} it is stored which questions
were correct or incorrect answered. This happens to spare complicated
evaluations based on the \textit{GivenAnswers} table later on.
Finally, an average score is computed and stored in the user table.

% In order to make the whole thing challenging, it
% is then computed how high the user's score is compared to the friends
% and to all the other users. 
% In addition, the correct solutions are given, and if a user knew the
% right answer, a green check is placed left to the question. Otherwise,
% a red cross is displayed at the same place. At least, the table with
% the friendships and table \textit{correctAnsweredQuestions} are used
% to identify friends  which answered the question correctly. Images of
% them are placed beyond each question's solution together with the
% information that those friends knew the right solution. 
% In the end, users get the chance to invite friends to the app to
% challenge them. For this reason, each friend's picture is added and
% user can click at them. On click, a pre-defined function from
% Facebook's Java Script \ac{sdk} is called to perform the invitation. 


\subsection{Data evaluation}
\label{sec:data-evaluation}
Data evaluation is performed by using the MySQL database, and
PHP scripts. In addition, the dot
language\footnote{http://www.graphviz.org/Documentation.php} is employed
to create graphs. 


The evaluation scripts are maintained by \textit{main.php}. A user
class represents Facebook's social graph internally. Its properties
are user's Facebook ID, registration date, average score, a list of
friends, and a list of IDs to whom the user may have spread the
application. Friendships are represented by a list of references to corresponding
user objects, and names of users' can be made anonymous if needed.

A user is supposed to have spread the app if he/she has
a friend who used the application and who belongs to a \textit{new}
network. Such persons are found by recursively checking if an user of
the application has friends, who also used the application, and whose friends
also used the app, but are not in his/her list of friends, and also not in the list of the person
who originally spread the application. In this case, the corresponding
friend will be marked as a person who spread the application, and the
recursion starts by letting the friend become the analyzed user.
Since it is not clear, why a person started to use an application, the
script also allows for identification of users who have friends 
who also participated in the application. 

User names are made anonymous by substituting their names with a
random name selected from a list of popular baby names
from 2009, taken from \url{http://www.ssa.gov/cgi-bin/popularnames.cgi}.   
For each gender, hundred names are stored in an array, and if the
gender is set, a name of same gender is chosen. Otherwise, the name is
taken randomly. The name of the person who spread the application
originally is always set to \textit{Alexandra}.

Output options are a \ac{csv}-file containing metrics calculated from
the internal social graph as well as various graphs in dot language, created
from the internal social graph, too.
% Properties of
% user objects are in the style of the \textit{user}-table's properties, and a user's
% . The whole set of users is maintained by
% \textit{main.php}, where they are stored in an array. Class \textit{Graph}
% allows for output of various graphs in dot-language created from the
% internal social graph. 





\section{Results}
\label{sec:results}
A total of n=52 users participated in the quiz. 6311 users have been
stored in the user table. Thus, on average each user brought on
average 121.4 \textit{new} people, who could read about the application
in their news stream. 

\subsection{Characteristics}
\label{sec:characteristics}

The characteristics discussed in this section consider data of users
that are still registered (n=37). 

\subsubsection{Age and gender}
\label{sec:age-gender}
$59 \%$ of the registered user are female, $41 \%$ of the participants
are male. Table \ref{tab:agegender} shows classification of the users
by age and gender. It can be seen, that most users ( 70 \%) were at
the age of 25-34. Only few ($8.4 \%$) were older, and only 21.4 \%
were younger.

\begin{center}
\begin{table}
\label{tab:agegender}
\begin{tabular}{l | c c c c}
Gender\textbackslash Age  & 13-17 & 18-24 & 25-34 & 45-54 \\
\hline
female  & 2.7 \% & 16 \% & 35 \% & 5.4 \% \\
male & 0 \% & 2.7 \% & 35 \% & 2.7 \% 
\end{tabular}
\caption{Table shows classification of users by age and gender.}
\end{table}
\end{center}

\subsubsection{Demography}
\label{sec:demographie}
Table \ref{tab:countries} details the origin of the users and table
\ref{tab:languages} the languages in which the participants use Facebook.
As it seems obvious for a quiz in German, most visitors came from Germany.

\begin{center}
\begin{table}
\label{tab:countries}
\begin{tabular}{l | c }
Country  & Visitors \\
\hline
Germany  & 32 \\
United Kingdom & 2 \\
Israel & 1 \\
United States of America & 1 \\
Austria & 1 \\
\end{tabular}
\caption{Table shows where the users are from.}
\end{table}
\end{center}

\begin{center}
\begin{table}
\label{tab:languages}
\begin{tabular}{l | c }
Languages   & Visitors \\
\hline
German  & 25 \\
English (UK) & 7 \\
English (US) & 4 \\
Greek  & 1 \\
\end{tabular}
\caption{Languages of the participants.}
\end{table}
\end{center}


\subsection{Spreading of the quiz}
\label{sec:distribution-quiz}
In this section, graphs illustrating how the
application spread are presented. The original user names collected from Facebook were made anonymous
before the graphs were printed (see section \ref{sec:data-evaluation}). Friendships are
represented by directed edges: If user A has user B in the friend list, an
arrow exists targeting user B.

Figure \ref{fig:allUsers} represents each user stored in user
table as node, and friendships of those who participated in the
application as directed edges. Names of users who participated in the quiz are distinguished by
red font color. The main purpose of this figure is to visualize the
whole setting and to give an imagination of how many \textit{new}
people on Facebook could have read about the application in their 
news stream. In addition, the figure shows few participants, who are
not connected to the larger network of the 
person who started to spread the application.

\begin{figure}
  \includegraphics[width=5.2in]{../img/tree2.png}
\caption{Figure shows all users stored in the database. Users who
  participated have a red text color.}
\label{fig:allUsers}
\end{figure}

In the following, only user who participated in the quiz are
considered. In Figure \ref{fig:spreading} nodes of people, who are
connector between two networks, have a red font color. The number of
friends and the average score from quiz are also shown. 
It can be obtained that in three cases, there are several connections (friendships)
between the people who participated and belong to a new network. For
instance, several connections exist between users \textit{Evan},
\textit{Diego}, \textit{Isabelle}, \textit{Chase}, and \textit{Gebrielle}.
\textit{Nicholas} and \textit{Chase}, who are friends with those
people mentioned above, also are friends with \textit{Ethan},
and \textit{Josiah}.  Then, \textit{Faith} is friend with
\textit{Owen} and \textit{Colton}, who also know each other, and
\textit{Mariah} and \textit{Sydney} have \textit{Alexis} as a common
friend. The figure also shows that most people who spread the
application had a score greater than or equal to three. At least, it
can be obtained that half of the people who spread the application
had less than hundred friends, which is less than the mean on
Facebook, i.e. 130 friends \cite{facebookStats}.

In the addendum (section \ref{sec:addendum}), two further graphs are
shown. In figure \ref{fig:friendsScored}, the background color
represents a user's average score. User with a darker background had a
higher score with those having a lighter background color. 
Figure \ref{fig:friendsFilled} visualizes the amount of friends in the
by giving users having many friends a dark and those having fewer
friends a lighter background color. 


\begin{figure}
  \includegraphics[width=5in]{../img/spreading5.png}
\caption{Figure shows all users stored in the database. Users who
  participated have a red text color.}
\label{fig:spreading}
\end{figure}

Two tables also located in the addendum describe to how many
other participants friendships existed (see table \ref{tab:spread} and
\ref{tab:nospread}), and to how many people of a
\textit{new} network the application was (probably) distributed by the
user. $26$ participants were on average $2.54$ friends with other
participants and those, who spread the application, seemed to have
more connections to other people than those who did not.
The average score of people connected to others was $3.02$. It was
higher than the average score of people not connected to others ($2.41$).
People not connected to further participants had fewer friends on average ($106.8$)
than the connected participants ($138.83$).

Table \ref{tab:nouser} details how many friends who participated in
the application user had, who did not participate in the
application. Most times, those people just had one friend, but in eleven
cases, they had four or five participants in their friends list.

\begin{table}
\label{tab:nouser}
\begin{tabular}{c c}
Number of friends & Frequency \\
1& 5150\\
2& 240\\
3& 55\\
4& 6\\
5& 5\\
\end{tabular}
\caption{Table details how many friends user had, who did not
  participate in the application.}
\end{table}

% \begin{center}
% \begin{table}
% \label{tab:coruser}
% \begin{tabular}{l | c c c}
% a & a & a & a \\

% \hline
% b & b & b & b
% \end{tabular}
% \caption{dummy}
% \end{table}
% \end{center}





\section{Discussion}
\label{sec:discussion}
From the results given in section \ref{sec:results} it can be derived
that the number of friends did not to play a bigger role in the
process of the application's distribution. The number of connections
to other users seems to play a bigger 
role, as it is indicated by table \ref{tab:spread} and figure
\ref{fig:spreaders}. In addition, a worse score made people unlikely
to spread the application, just one person with a score less than 3
did so. Thus, people with a higher score (on average $3.11$, median $3.32$) are
supposed to have distributed the application. Indeed, some people who
had four or five friends who participated in the application did not
install the application.


\section{Conclusion and Outlook}
\label{sec:conclusion}
This research indicates, that the spreading of application follows
certain patterns. Oftentimes, people say that they don't want to
make a worse impression on Facebook, and this is also reflected in the
fact, that only people who yield higher scores in the quiz also
distributed to their friends. In the environment analyzed, dense
networks with few participants, i.e. in networks in which people know
each other, made  further members of their network very likely to join
the application. Indeed, the number of friends did not play a role in
making people likely to spread the application.


In order to get more reliability towards the processes of spreading
of applications on Facebook, more applications must be analyzed.
Future research may consider, how patterns change with respect
to users' age, and if further characteristics can be identified. In
case of larger applications, it could be studied, if turning points
or intervals exist, which - when exceeded - make users significantly
more likely to join the application.





\include{acronym} % load acronyms
%% \section{}
%% \label{}

%% References
%%
%% Following citation commands can be used in the body text:
%% Usage of \cite is as follows:
%%   \cite{key}          ==>>  [#]
%%   \cite[chap. 2]{key} ==>>  [#, chap. 2]
%%   \citet{key}         ==>>  Author [#]

%% References with bibTeX database:

\bibliographystyle{elsarticle-harv}
\bibliography{literature.bib}


%% Authors are advised to submit their bibtex database files. They are
%% requested to list a bibtex style file in the manuscript if they do
%% not want to use model1-num-names.bst.

%% References without bibTeX database:

% \begin{thebibliography}{00}

%% \bibitem must have the following form:
%%   \bibitem{key}...
%%

% \bibitem{}

% \end{thebibliography}

\newpage
\section{Addendum}
\label{sec:addendum}

\begin{figure}
  \includegraphics[height=3in]{../img/fbquiz.png}
 \caption{The quiz.}
\label{fig:quiz}
\end{figure}


\begin{figure}
  \includegraphics[width=3.5in]{../img/fbsolution.png}
  \caption{Solution of a question.}
\label{fig:solution}
\end{figure}



% \begin{figure}
%   \includegraphics[width=3.5in]{../img/fbinvite.png}
%   \caption{This screenshot shows how friends can be invited.}
% \label{fig:invite}
% \end{figure}

\begin{figure}
  \includegraphics[width=5in]{../img/friendsScored.png}
\caption{Figure shows all users stored in the database. Users who
  participated have a red text color.}
\label{fig:friendsScored}
\end{figure}

\begin{figure}
  \includegraphics[width=5in]{../img/friendsFilled.png}
\caption{Figure shows all users stored in the database. Users who
  participated have a red text color.}
\label{fig:friendsFilled}
\end{figure}


 \begin{table}
 \label{tab:spread}
 \begin{tabular}{ c c c c}
Friends & Score & Friends who also participated & Probably spread appl. to friends\\
\hline
97 & 3.33 & 1 &-\\
322 & 1.5 & 4 & -\\
63 & 4 & 1 & 1\\
102 & 0 & 2 & -\\
91 & 1 & 3 &1\\
128 & 4 & 2 & -\\
151 & 3 & 4 &3\\
135 & 3.64 & 3 &2\\
254 & 4 & 2 & 2\\
220 & 3 & 4 & -\\
127 & 3 & 2 & -\\
186 & 4 & 3 & -\\
42 & 3 & 4 & - \\
445 & 3 & 4 & - \\
153 & 3 & 2 &1\\
20 & 3 & 1 &1\\
11 & 4.23 & 8 &2\\
130 & 3 & 1 & -\\
67 & 2 & 1 & - \\
207 & 2 & 2 & -\\
74 & 4.5 & 3 & -\\
47 & 4.42 & 3& -\\
157 & 3 & 2 & -\\
136 & 3 & 2 & -\\
78 & 4 & 1 & -\\
167 & 2 &1 & -
\end{tabular}
\caption{Table shows how many friends and which score user had who may have spread the
  application, and how many of their friends started to use the
  application. If a user was a connector to another network, it is
  calculated to how many new persons the application (appl.) was
  probably spread.}
\end{table}




 \begin{center}
 \begin{table}
 \label{tab:nospread}
 \begin{tabular}{ c c c}
Friends & Score  \\
\hline
90 & 1.29 \\
332 & 3 \\
233 & 4 \\
79 & 3 \\
53 & 1 \\
89 & 2 \\
72 & 4 \\
76 & 1 \\
264 & 1 \\
35 & 3 \\
121 & 4 \\
289 & 1 \\
15 & 4 \\
49 & 4 \\
0 & 4.75 \\
80 & 4 \\
60 & 0 \\
13 & 2.5 \\
229 & 0 \\
53 & 0 \\
10 & 3 
\end{tabular}
\caption{Table shows how many friends and which score user had who did
  not spread the application.}
\end{table}
\end{center}





\end{document}

%%
%% End of file `elsarticle-template-1-num.tex'.

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
