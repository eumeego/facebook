%% This is file `elsarticle-template-1-num.tex',
%%
%% Copyright 2009 Elsevier Ltd
%%
%% This file is part of the 'Elsarticle Bundle'.
%% ---------------------------------------------
%%
%% It may be distributed under the conditions of the LaTeX Project Public
%% License, either version 1.2 of this license or (at your option) any
%% later version.  The latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.2 or later is part of all distributions of LaTeX
%% version 1999/12/01 or later.
%%
%% The list of all files belonging to the 'Elsarticle Bundle' is
%% given in the file `manifest.txt'.
%%
%% Template article for Elsevier's document class `elsarticle'
%% with numbered style bibliographic references
%%
%% $Id: elsarticle-template-1-num.tex 149 2009-10-08 05:01:15Z rishi $
%% $URL: http://lenova.river-valley.com/svn/elsbst/trunk/elsarticle-template-1-num.tex $
%%
\documentclass[preprint,12pt]{elsarticle}

%% Use the option review to obtain double line spacing
%% \documentclass[preprint,review,12pt]{elsarticle}

%% Use the options 1p,twocolumn; 3p; 3p,twocolumn; 5p; or 5p,twocolumn
%% for a journal layout:
%% \documentclass[final,1p,times]{elsarticle}
%% \documentclass[final,1p,times,twocolumn]{elsarticle}
%% \documentclass[final,3p,times]{elsarticle}
%% \documentclass[final,3p,times,twocolumn]{elsarticle}
%% \documentclass[final,5p,times]{elsarticle}
%% \documentclass[final,5p,times,twocolumn]{elsarticle}

%% if you use PostScript figures in your article
%% use the graphics package for simple commands
%% \usepackage{graphics}
%% or use the graphicx package for more complicated commands
%% \usepackage{graphicx}
%% or use the epsfig package if you prefer to use the old commands
%% \usepackage{epsfig}

%% The amssymb package provides various useful mathematical symbols
\usepackage{amssymb}
%% The amsthm package provides extended theorem environments
%% \usepackage{amsthm}
\usepackage{hyperref} %\url can be used, links are highlited


\usepackage[printonlyused]{acronym}

\usepackage{color}
\usepackage{xcolor}

\usepackage{listings} \lstset{numbers=left, numberstyle=\tiny,
  basicstyle=\footnotesize, stepnumber=2, numbersep=5pt,
  showspaces=false, showstringspaces=false, frame=single,
  breaklines=true,
  backgroundcolor=\color{white},morekeywords={id,gender, name,
    first_name, username, gender, locale},
  numbersep=5pt} \lstset{language=Perl} 




\newcounter{countNotes}
\newcommand{\annKB}[1]{\color{blue}*\textsuperscript{\thecountNotes}\marginpar{\color{blue} \tiny *\textsuperscript{\thecountNotes}\textbf{Note (KB): \\}
    #1  }\addtocounter{countNotes}{1}\color{black}}
%\renewcommand{\annKB}[1]{} %disable annotation 

% \renewcommand{sbw}{} %disable comments


%% The lineno packages adds line numbers. Start line numbering with
%% \begin{linenumbers}, end it with \end{linenumbers}. Or switch it on
%% for the whole article with \linenumbers after \end{frontmatter}.
%% \usepackage{lineno}

%% natbib.sty is loaded by default. However, natbib options can be
%% provided with \biboptions{...} command. Following options are
%% valid:

%%   round  -  round parentheses are used (default)
%%   square -  square brackets are used   [option]
%%   curly  -  curly braces are used      {option}
%%   angle  -  angle brackets are used    <option>
%%   semicolon  -  multiple citations separated by semi-colon
%%   colon  - same as semicolon, an earlier confusion
%%   comma  -  separated by comma
%%   numbers-  selects numerical citations
%%   super  -  numerical citations as superscripts
%%   sort   -  sorts multiple citations according to order in ref. list
%%   sort&compress   -  like sort, but also compresses numerical citations
%%   compress - compresses without sorting
%%
%% \biboptions{comma,round}

% \biboptions{}


\journal{has to be discussed}

\begin{document}

\begin{frontmatter}

%% Title, authors and addresses

%% use the tnoteref command within \title for footnotes;
%% use the tnotetext command for the associated footnote;
%% use the fnref command within \author or \address for footnotes;
%% use the fntext command for the associated footnote;
%% use the corref command within \author for corresponding author footnotes;
%% use the cortext command for the associated footnote;
%% use the ead command for the email address,
%% and the form \ead[url] for the home page:
%%
%% \title{Title\tnoteref{label1}}
%% \tnotetext[label1]{}
%% \author{Name\corref{cor1}\fnref{label2}}
%% \ead{email address}
%% \ead[url]{home page}
%% \fntext[label2]{}
%% \cortext[cor1]{}
%% \address{Address\fnref{label3}}
%% \fntext[label3]{}

\title{Distribution of a Facebook application}

%% use optional labels to link authors explicitly to addresses:
%% \author[label1,label2]{<author name>}
%% \address[label1]{<address>}
%% \address[label2]{<address>}


\author[focal]{Kathrin Becker\corref{cor1}\fnref{fn1}} 
\ead{mail@kathrin-becker.eu}
\author[focal]{Mayutan Arumaithurai\fnref{fn1}} %
\ead{mayutan.arumaithurai@gmail.com}
\author[focal]{Xiaoming Fu\corref{cor2}\fnref{fn1}} %
\ead{fu@cs.uni-goettingen.de}

\address[focal]{Institute of Computer Science, Computer Networks (NET)
  Research Group, University of G\"ottingen}





\cortext[cor1]{Corresponding author}
\cortext[cor2]{Principal corresponding author}
\fntext[fn1]{This document is a collaborative effort.}
%\fntext[fn2]{Another author footnote, but a little more longer.}
%\fntext[fn3]{Yet another author footnote. Indeed, you can have
%xany number of author footnotes.}
\tnotetext[tn1]{This is a specimen title.}



\begin{abstract}
%% Text of abstract, 150 - 350 words
% The outcome was students' perceptions of preparedness.
This paper investigates, how a small Facebook application 
distributes among friends. A graph is created which represents users, who
installed the application, as nodes and friendship between them as
edges. In addition, metrics are calculated to determine, which
parameters  make users likely to invite their friends to
participate. 

The application itself is a quiz which asks people 5
questions, randomly selected from a pool of 20 questions, 
about dentistry health facts. After the quiz, participants
get to know if they had a higher score than their friends and who of their
friends answered the questions they got correctly.

Results show users, who yield a high score in the quiz,
more likely to invent other users than users, who got a worse
score. In addition, the number of friends did not mark users to be
relevant for spreading the app. Indeed, people who had less friends
were much more likely to spread the application.
\end{abstract}

\begin{keyword}
%% keywords here, in the form: keyword \sep keyword

%% MSC codes here, in the form: \MSC code \sep code
%% or \MSC[2008] code \sep code (2000 is the default)
Facebook, Social Networking, data mining, social graph
\end{keyword}

\end{frontmatter}

%%

%% The Appendices part is started with the command \appendix;
%% appendix sections are then done as normal sections
%% \appendix
%% main text
%% Start line numbering here if you want
%%
%o \linenumbers

\section{Introduction}
\label{sec:introduction}
Founded in 2004, Facebook\footnote{www.facebook.com} has
become a social network currently used by more than 600 million people
all over the world\cite{facebook500}. Since 2007, Facebook provides an API allowing
third party developers to embed their own applications into
Facebook\footnote{http://developers.facebook.com/blog/archive}.
Subsequent to the F8 conference in April, 2010, Facebook simplified
access to its social graph via Open Graph Protocol \cite{facebookStats} and allowed
for integration of external websites. Until October, 2009,
over 350 000 apps had been seen on Facebook \cite{facebookBlog}.
Due to current statistics, people install about 20 million apps per day. In addition, ten thousand new
websites integrate with Facebook every day. \cite{facebookStats}

Due to integration in Facebook's social graph, third party
applications spare user authentication procedures and can access
private user information as well. These information can include basic
information and friend lists, but also interests and further data
specified by an access token  \footnote{http://developers.facebook.com/docs/authentication/}.
As the data provided by Facebook, and collected by analyzing user
behaviour on an application, represent a lot of social information, it
seems obvious, that these data also allow for studying social groups.

This paper investigates the distribution process of a quiz on Facebook
by analysing which parameters make users likely to distribute the application
and which parameters do not. 

In the first section, background information
about how applications can be integrated with Facebook are
given. Then, the methodology is described in section \ref{sec:method},
including the quiz, as well as the 
proceedings used for data collection and evaluation. In section
\ref{sec:results}, the results are detailed, and in section
\ref{sec:discussion} and \ref{sec:outlook}, they are discussed and an
outlook is given for further research. 


\section{Background}
\label{sec:background}
This section describes the social graph concept, how applications can be integrated with
Facebook, how authentication and authorisation is done, and in which
format data from the social graph can be obtained.

\subsection{Social Graph}
\label{sec:social-graph}
The \textit{social graph} is at Facebook's core. It represents
connections between people and things they care about
\cite{facebookDev}. In April, 2010, Facebook included access to the
social graph via the Open Graph Protocol, which advanced integration of
external websites into the social graph \cite{facebookDev2}. These websites can make use of
social plugins such as \textit{Like Buttons} or \textit{Comment Boxes} \cite{facebookDev2}
and for this reason, the social graph contains not only connections between
people on Facebook (friend relations), but also between 
entities such as applications, movie entries on external websites,
news articles, and much more. As this allows
people to identify friends on external websites and receive
information about their friends' attitude towards anything their
friends have visited and commented before, one can say
that Facebook's social graph makes the Internet social.  

The Graph API is one of Facebook's core concepts and presents a consistent
view of the social graph. Every object has an unique ID and its
properties can be accessed by requesting the appropriate URL:
\url{https://graph.facebook.com/ID}. Listing \ref{list:kbecker} shows
the author's public user node on Facebook's social graph. which is
returned as a \ac{json}-object\footnote{http://www.json.org}.

\begin{lstlisting}[caption=JSON object from
  \url{https://graph.facebook.com/681178092},
  label=list:kbecker]{}
{
   "id": "681178092",
   "name": "Kathrin Becker",
   "first_name": "Kathrin",
   "last_name": "Becker",
   "username": "kathrin.becker1",
   "gender": "female",
   "locale": "de_DE"
}
\end{lstlisting}

In order to get access not only to public, but also to private
information, an access token has to be included in the Graph API
request. To get this token, the accessing entity must be
authorized and authenticated to do so. How this can be achieved is
discussed in section \ref{sec:auth-auth}. If one tries to access
non-public information such as the author's list of friends, an error
in terms of a missing access token is returned. An example is given in
listing \ref{list:kbeckerfriends}.


\begin{lstlisting}[caption=JSON object from
  \url{https://graph.facebook.com/681178092/friends},
  label=list:kbeckerfriends]{}
{
   "error": {
      "type": "OAuthException",
      "message": "An access token is required to request this resource."
   }
}
\end{lstlisting}


Besides the Graph API, Facebook's social graph can also be accessed
with the REST-API, which is in the processes of deprecating
\cite{facebookDev3}. Both, the Graph API and the REST-API support
O-Auth 2.0 for authentication and authorization. O-Auth 2.0 is
included in Facebook's \ac{sdks} (see section
\ref{sec:integr-appl-with} and \ref{sec:auth-auth}).




\subsection{Integration of Applications with Facebook}
\label{sec:integr-appl-with}
Applications on Facebook are hosted on external severs, and are loaded
into a \textit{Canvas Page} by using iFrames. After registration
(\url{http://www.facebook.com/developers/createapp.php}), applications
can be found under the URL \url{http://apps.facebook.com/your_app }.
As soon as the application exists for some month and has
some users registered, it can be added to Facebook's application
index. 

Facebook provides several features to support the development
process. \ac{sdks} exist for popular programming languages and provide
sets of pre-defined functions for communication with Facebook. For
instance, they include the O-Auth 2.0 dialog which is described in
section \ref{sec:auth-auth}. In
addition, Facebook grants observation of its own development process by
making its raodmap public, and by showing its buglist. In addition, a
testserver exists to help developers to analyze if their application
is going to run with planned features from Facebook. 
Facebook provides an \textit{insights}-feature which makes
statistics about the applications available. \cite{oreilly}.



\subsection{Authentication and Authorization}
\label{sec:auth-auth}
In order to authorize and authenticate, Facebook recommends usage of
O-Auth 2.0 protocol by using the OAuth Dialog included in its
\ac{sdks}. As the application analyzed in this paper and described in section 
\ref{sec:method} implements the O-Auth Dialog from the PHP-\ac{sdk},
this variant will be described in detail. It shall just be mentioned,
that Facebook also allows for manual execution of the steps to receive
access tokens.\cite{facebookDevAuth}  

The OAuth Dialog performs three steps, i.e. user authentication, 
and authorization as well as authentication of the
application. If these three steps are completed, the application is
issued an \textit{user access token}. If more than basic information
is needed from Facebook, scope parameters can be set.\cite{facebookDevAuth}

Figure \ref{fig:authorization} details how authorization and
authentication take place with OAuthDialog. The \textit{app server}
show cases the server on which the app is actually
running. \textit{Facebook} represents all the Facebook servers, on
which perform authentication and authorization. The \textit{OAuth
  Dialog} runs on the browser of the client who is going to use the
application.


\begin{figure}
\label{fig:authorization}
  \includegraphics[width=4in]{../img/fbinteraction3.png}
  \caption{Facebook establishes trust relation by not sending login
    data to app server, but using access tokens instead for
    data exchange with app server.}
\end{figure}

When clients access the canvas page of the application, they are
redirected to the OAuth Dialog (running on a Facebook server) and
provided with the application's ID. Then, user authentication and
app authorization is performed, by involving the client and Facebook
only. User authentication is done by logging in on Facebook (if necessary) and
authorization of the application is done by asking the user if he/she
wants to grant the application access to some data specified by the
application with the scope parameter. One should note, that no
login data are sent to the application, thus, this is how Facebook
establishes a trust relation. 
If the user authorizes the application, an \textit{authorization code} is returned and
the user is redirected to the application, to which the
\textit{authorization code} is forwarded. When registering the
application, an \textit{application secret} code has been
created. In order to authenticate the application, the
\textit{authorization code} and the \textit{application secret} have
to be sent to Facebook's \textit{Graph API Token Endpoint}. Facebook
then returns an \textit{access token}, which can be included in the
URL by which the Graph API can be accessed. However, Facebook's
\ac{sdks} also provide functions to perform calls to the Graph API,
and in this case, the access token is included automatically.




\subsection{Data from social graph (JSON-Objects)}
\label{sec:json-objects}



\section{Methodology}
\label{sec:method}

\subsection{The Quiz}
\label{sec:quiz}

\subsection{Data collection and evaluation}
\label{sec:data-coll-eval}




\section{Results}
\label{sec:results}


\begin{center}
\begin{table}
\label{tab:coruser}
\begin{tabular}{l | c c c}
a & a & a & a \\

\hline
b & b & b & b
\end{tabular}
\caption{dummy}
\end{table}
\end{center}





\section{Discussion}
\label{sec:discussion}




\section{Outlook}
\label{sec:outlook}


%\section{Conclusion}
%\label{sec:conclusion}




\include{acronym} % load acronyms
%% \section{}
%% \label{}

%% References
%%
%% Following citation commands can be used in the body text:
%% Usage of \cite is as follows:
%%   \cite{key}          ==>>  [#]
%%   \cite[chap. 2]{key} ==>>  [#, chap. 2]
%%   \citet{key}         ==>>  Author [#]

%% References with bibTeX database:

\bibliographystyle{elsarticle-harv}
\bibliography{literature.bib}


%% Authors are advised to submit their bibtex database files. They are
%% requested to list a bibtex style file in the manuscript if they do
%% not want to use model1-num-names.bst.

%% References without bibTeX database:

% \begin{thebibliography}{00}

%% \bibitem must have the following form:
%%   \bibitem{key}...
%%

% \bibitem{}

% \end{thebibliography}


\end{document}

%%
%% End of file `elsarticle-template-1-num.tex'.

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
